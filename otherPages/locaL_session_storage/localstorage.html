<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Storage </title>
    <style>
        *{
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }
        table {
            width: 50%;
        }

        table,tr,td,th {
            border: 1px solid black;
            border-collapse: collapse;
        }

        p,input {
            margin-left: 1rem;
        }
        
        input {
            width: 300px;
            height: 20px;
        }

        button{
            margin: 0.5rem;
            width: 60%;
        }

        #clearButton {
            width: 100px;
        }

    </style>
</head>
<body>
    



    <table>
        <tr>
            <th colspan="2" style="text-align: center;">Enter the Data</th>
        </tr>

        <form id="carForm">
            <tr>
                <td><p>Enter the Address</p></td>
                <td><input type="text" id="addressValue" placeholder="Enter the address" required  pattern="[A-Za-z0-9]{5}" title="Three letter country code and two numbers"></td>
                
            </tr>
    
            <tr>
                <td><p>Enter the Price</p></td>
                <td><input type="text" id="addressPrice" placeholder="Enter the Price" required></td>
            </tr>

            
            <tr>
                <td><p>Date builded</p></td>
                <td><input type="date" id="date"  required></td>
            </tr>

            <tr>
                <td><p>Phone Number</p></td>
                <td><input type="tel" id="phone"  required></td>
            </tr>
    
            <tr>
                <td><p>Enter the Key</p></td>
                <td><input type="text" id="key" placeholder="Enter the key" required ></td>
            </tr>
    
            <tr>
                <th colspan="2"><button  type="submit" id="submit">Store records</button></th>
            </tr>
        </form>


        <tr>
            <td colspan="2" style="height: 40px
            ;"></td>
            
        </tr>


        <tr>
            <td><p>Enter key to retrieve item</p></td>
            <td><input type="text" id="retrieveKey" placeholder="retrieveKey" required</td>
            
        </tr>



        <tr>
            <th colspan="2"><button id="retrieveButton">Retrieve records</button></th>
        </tr>



    </table>

    <td rowspan="10"><button id="clearButton">Clear all records</button></td>

        <div id="retrieve"></div>


    <script>

function store(){ //stores items in the localStorage
    var address = document.getElementById('addressValue').value;
    var price = document.getElementById('addressPrice').value;
    var key = document.getElementById('key').value;
    var date = document.getElementById('date').value;
    var tel = document.getElementById('phone').value;

    const house = {
        name: address,
        price: price,
        date:date,
        phone: tel
    }

    window.localStorage.setItem(key,JSON.stringify(house));  
    //converting object to string
}

function retrieveRecords(){
    var key = document.getElementById('retrieveKey').value; //gets key from user
    console.log("retrive records");

    var records = window.localStorage.getItem(key); //searches for the key in localStorage
    var paragraph = document.createElement("p");
    var infor = document.createTextNode(records);
    paragraph.appendChild(infor);
    var element = document.getElementById("retrieve");
    element.appendChild(paragraph);
}


function clearStorage(){ //clears the entire localStorage
    localStorage.clear()
    console.log("clear records");
}

window.onload = function(){ //ensures the page is loaded before functions are executed.
    document.getElementById("carForm").onsubmit = store
    document.getElementById("clearButton").onclick = clearStorage
    //document.getElementById("removeButton").onclick = removeItem
    document.getElementById("retrieveButton").onclick = retrieveRecords
}




        // const dataForProject = {
        //     "authors": ["Gentrit Hoxha", "Zenit Neziri","Jetmir Halili"],
        //     "nameOfSubject": "Programming in WWWW",
        //     "group": 19,

        // }

        //  localStorage.setItem("dataForTheProject", JSON.stringify(dataForProject));

    </script>
</body>
</html>